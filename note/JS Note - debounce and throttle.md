## JavaScript é˜²æŠ–å’ŒèŠ‚æµ
åœ¨å‰ç«¯å¼€å‘ä¸­æœ‰ä¸€äº›äº‹ä»¶æ˜¯ä¼šé¢‘ç¹çš„è§¦å‘çš„ï¼Œå¦‚`onmousemove` `onresize` `onscroll`ç­‰ã€‚å¦‚æœæˆ‘ä»¬åœ¨äº‹ä»¶ä¸­åšä¸€äº›æ¯”è¾ƒå¤æ‚çš„äº‹æƒ…æ¯”å¦‚è¯·æ±‚æ•°æ®æºï¼Œç”±äºäº‹ä»¶è§¦å‘çš„éå¸¸é¢‘ç¹ï¼Œ
æ€§èƒ½ä¼šå—åˆ°å¾ˆå¤§çš„å½±å“ã€‚  

ç›®å‰çš„è§£å†³æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼š
- é˜²æŠ– debounce
- èŠ‚æµ throttle  

å¾ˆå¤šäººæä¸æ¸…ä»–ä¿©çš„åŒºåˆ«ï¼Œç½‘ä¸Šçš„è¯´æ³•ä¹Ÿæ˜¯æ¯”è¾ƒç»•ï¼Œæˆ‘è¯´ä¸‹æˆ‘è‡ªå·±çš„ç†è§£ã€‚é¦–å…ˆä»–ä¿©éƒ½æ˜¯å› äº‹ä»¶é¢‘ç¹è§¦å‘è€Œè¯ç”Ÿçš„ï¼Œæ‰€ä»¥äº‹ä»¶è§¦å‘è‚¯å®šæ˜¯ä¸»è¯­ï¼Œå¦å¤–ä»–ä»¬éƒ½éœ€è¦æŒ‡å®šä¸€ä¸ªæ—¶é—´æ®µä½œä¸ºåˆ¤å®šè¾¹ç•Œã€‚
- é˜²æŠ–ï¼šç¦æ­¢åœ¨æŒ‡å®šæ—¶é—´å†…çš„è¿ç»­è§¦å‘ï¼ˆè¿ç»­è§¦å‘å³è§†ä¸ºæŠ–åŠ¨ï¼‰ï¼Œåœ¨äº‹ä»¶è¿ç»­è¢«è§¦å‘æ—¶ï¼Œé™¤éè¯¥äº‹ä»¶é™é»˜äº†æŒ‡å®šçš„æ—¶é—´ï¼Œå¦åˆ™ä¸è§¦å‘ã€‚
- èŠ‚æµï¼šåœ¨äº‹ä»¶è¿ç»­è¢«è§¦å‘æ—¶ï¼Œäº‹ä»¶ä¼šæŒ‰ç…§ **æŒ‡å®šæ—¶é—´/æ¯æ¬¡** çš„é¢‘ç‡è§¦å‘  

è¿™æ ·è§£é‡Šå¥½åƒæ›´åŠ è´´å’Œä»–ä»¬çš„åå­—ï¼Œæ›´å¥½ç†è§£ğŸ¤“ ï¼Œä¸‹é¢æ¥çœ‹ä¸‹å¦‚ä½•å®ç°ã€‚

---

é¦–å…ˆç®€å•çš„æ¢³ç†ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šç»‘å®šåˆ°æŸä¸ªäº‹ä»¶ä¸Šï¼Œå®ƒä¼šåœ¨äº‹ä»¶è¢«è§¦å‘æ—¶æ‰§è¡Œã€‚
```js
function fn(e){
  // do something...
}
div.addEventListener('mousemove',fn);
```
é‚£ä¹ˆæˆ‘ä»¬ä¼šå¸Œæœ›æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°æ¥å®ç°é˜²æŠ–/èŠ‚æµçš„åŠŸèƒ½ï¼š
- å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯è¦ do something çš„ä¸€ä¸ªå‡½æ•°`fn`å’Œä¸€ä¸ªæ—¶é—´`wait`ä½œä¸ºåˆ¤å®šè¾¹ç•Œ
- å®ƒå†…éƒ¨æœ‰ä¸ªå®šæ—¶å™¨æ¥å¤„ç†å‡½æ•°æ‰§è¡Œå‰éœ€è¦ç­‰å¾…å¤šä¹…
- å®šæ—¶å™¨è·‘å®Œåï¼Œå®ƒè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æä¾›ç»™äº‹ä»¶è°ƒç”¨

é‚£ä¹ˆå®ƒå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š
```js
function xxx(func, wait) {
    // ...
    return function () {
        // ...
        setTimeout(func, wait);
    }
}
```
é‚£ä¹ˆæˆ‘ä»¬æ¥é¡ºç€è¿™ä¸ªæ€è·¯åˆ†åˆ«å®ç°ä¸€ä¸‹**é˜²æŠ–**å’Œ**èŠ‚æµ**

### é˜²æŠ–
æ ¹æ®é˜²æŠ–æ‰€è¦å®ç°çš„åŠŸèƒ½ï¼Œè¿ç»­è§¦å‘äº‹ä»¶æ—¶åªåœ¨äº‹ä»¶é™é»˜äº†**wait**æ—¶é—´åæ‰è§¦å‘ä¸€æ¬¡ï¼Œé‚£ä¹ˆæ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½è¦é‡ç½®å®šæ—¶å™¨
```js
function debounce(func, wait) {
    let time = null;
    return function () {
        if(time !== null) clearTimeout(time);
        time = setTimeout(func, wait);
    }
}
```
è¿™å°±æ˜¯å®ç°äº†ä¸€ä¸ªæœ€å°ç‰ˆçš„é˜²æŠ–å‡½æ•°ï¼Œä½†æ˜¯äº‹ä»¶å½“ä¸­æˆ‘ä»¬ç»å¸¸è¦ç”¨åˆ°äº‹ä»¶å¥æŸ„`evt`çš„ï¼Œé‚£ä¹ˆè‡ªç„¶å°±æƒ³åˆ°ä½¿ç”¨`apply(this,arguments)`äº†ï¼Œé¡ºä¾¿ä¹ŸæŠŠ`this`æŒ‡å‘çš„é—®é¢˜ä¿®å¤ä¸€ä¸‹
```js
function debounce(func, wait){
    let time = null;
    return function () {
      const _this = this;
      if(time !== null) clearTimeout(time);
      time = setTimeout(() => {
        func.apply(_this, arguments);
      }, wait);
    }
}
```

### èŠ‚æµ
æœ‰äº†ä¸Šé¢é˜²æŠ–çš„ç»éªŒï¼Œå¾ˆå¿«å°±å¯ä»¥åŒæ ·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ï¼Œæ€è·¯æ˜¯åœ¨è®¡æ—¶é˜¶æ®µç›´æ¥`return`ä¸åšä»»ä½•å¤„ç†ï¼Œè®¡æ—¶å®Œæ¯•åæ‰§è¡Œ`func`å¹¶åˆ é™¤è®¡æ—¶å™¨ï¼Œé‡æ–°å¼€å§‹ä¸‹ä¸€æ¬¡çš„è®¡æ—¶
```js
function throttle(func, wait){
    let time = null;
    return function () {
      const _this = this;
      if(time !== null) return;
      time = setTimeout(() => {
        func.apply(_this, arguments);
        time = null;
      }, wait);
    }
}
```
å®ä¾‹ä»£ç [è¯·æˆ³](https://jsbin.com/henizixiga/edit?html,js,output)
